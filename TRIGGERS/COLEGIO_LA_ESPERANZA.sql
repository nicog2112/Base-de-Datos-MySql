Create database La_esperanza;
Use La_esperanza;

CREATE TABLE CENTROS (
COD_CENTRO INT(4) PRIMARY KEY,
NOMBRE VARCHAR(20),
LOCALIDAD VARCHAR(15),
TLF VARCHAR(10),
NUM_ALUMNOS INT(4),
NUM_CURSOS INT(3),
PRESUPUESTO INT(7));


CREATE TABLE CURSOS(
COD_CURSO INT(3) PRIMARY KEY,
COD_CENTRO INT(4) REFERENCES CENTROS (COD_CENTRO ),
DENOMINACION VARCHAR(20),
COSTE_MATRICULA INT(6),
NUM_ALUMNOS INT(3));


CREATE TABLE ALUMNOS(
NUM_ALUMNO INT(4) PRIMARY KEY,
COD_CURSO INT(3) REFERENCES CURSOS (COD_CURSO ),
NOMBRE VARCHAR(20),
DIRECCION VARCHAR(20),
TLF VARCHAR(10),
NOTA_MEDIA DECIMAL(3,1));


CREATE TABLE DEPARTAMENTOS(
COD_DEPAR INT(4) PRIMARY KEY,
NOMBRE_DEPAR VARCHAR(20),
NUM_ASIG INT(3));


CREATE TABLE ASIGNATURAS(
COD_ASIG INT(4) PRIMARY KEY,
NOMBRE VARCHAR(20),
COD_DEPAR INT(4) REFERENCES DEPARTAMENTOS (COD_DEPAR),
COD_CURSO INT(3) REFERENCES CURSOS (COD_CURSO ));

CREATE TABLE EVALUACIONES(
COD_EVALUACION INT(4),
NUM_ALUMNO INT(4) REFERENCES ALUMNOS (NUM_ALUMNO),
COD_ASIG INT(4) REFERENCES ASIGNATURAS (COD_ASIG),
NOTA DECIMAL(3,1),
CONSTRAINT PK_EVA PRIMARY KEY (COD_EVALUACION, NUM_ALUMNO, COD_ASIG));  



INSERT INTO CENTROS VALUES (1,'MIXTO 1','TALAVERA','1234567',5,3,35000);
INSERT INTO CENTROS VALUES (2,'MIXTO 2','MADRID','12348888',0,2,15000);
INSERT INTO CENTROS VALUES (3,'MIXTO 3','TOLEDO','6664567',0,2,35000);
INSERT INTO CENTROS VALUES (4,'LAS MENINAS','TALAVERA','9894567',0,0,45000);

INSERT INTO CURSOS VALUES  (10,1,'1ESO',300,3);
INSERT INTO CURSOS VALUES  (11,1,'2ESO',350,2);
INSERT INTO CURSOS VALUES  (12,1,'3ESO',400,0);

INSERT INTO CURSOS VALUES  (20,2,'1ESO',300,0);
INSERT INTO CURSOS VALUES  (21,2,'2ESO',320,0);
INSERT INTO CURSOS VALUES  (30,3,'1BACH',500,0);
INSERT INTO CURSOS VALUES  (31,3,'2BACH',600,0);

INSERT INTO ALUMNOS VALUES  (110,10,'JUAN GOMEZ','TALAVERA','123456',0);
INSERT INTO ALUMNOS VALUES  (210,10,'ALBERTO PEREZ','TALAVERA','3335996',0);
INSERT INTO ALUMNOS VALUES  (310,10,'ANA GARCIA','TALAVERA','99123456',0);
INSERT INTO ALUMNOS VALUES  (111,11,'MARIA GOMEZ','TALAVERA','4444456',0);
INSERT INTO ALUMNOS VALUES  (211,11,'ALICIA PEREZ','TALAVERA','3344996',0);
INSERT INTO ALUMNOS VALUES  (212,10,'ROBERTO PEREZ','TALAVERA','3344954',0);
INSERT INTO ALUMNOS VALUES  (212,10,'ROBERTO PEREZ','TALAVERA','3344954',0);

INSERT INTO DEPARTAMENTOS VALUES (1,'CIENCIAS',4);
INSERT INTO DEPARTAMENTOS VALUES (2,'MATEMATICAS',3);
INSERT INTO DEPARTAMENTOS VALUES (3,'LENGUA',0);

INSERT INTO ASIGNATURAS VALUES (1,'CIENCIAS1ESO',1,10);
INSERT INTO ASIGNATURAS VALUES (2,'CIENCIAS1ESO',1,20);
INSERT INTO ASIGNATURAS VALUES (3,'CIENCIAS2ESO',1,11);
INSERT INTO ASIGNATURAS VALUES (4,'CIENCIAS2ESO',1,21);
INSERT INTO ASIGNATURAS VALUES (5,'MATEMATICAS2ESO',2,11);
INSERT INTO ASIGNATURAS VALUES (6,'MATEMATICAS2ESO',2,21);
INSERT INTO ASIGNATURAS VALUES (7,'MATEMATICAS3ESO',2,12);

